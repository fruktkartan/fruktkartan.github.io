{"version":3,"file":"js/app-legacy.bb722903.js","mappings":"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","sources":["webpack://fruktkartan/./src/App.vue","webpack://fruktkartan/./src/components/Map.vue","webpack://fruktkartan/./src/components/AddTreeDialog.vue","webpack://fruktkartan/./src/components/TreeEditor.vue","webpack://fruktkartan/./src/components/TreeImage.vue","webpack://fruktkartan/src/components/TreeImage.vue","webpack://fruktkartan/./src/components/TreeImage.vue?caec","webpack://fruktkartan/./src/components/TreeImage.vue?c437","webpack://fruktkartan/./src/components/ConfirmDialog.vue","webpack://fruktkartan/src/components/ConfirmDialog.vue","webpack://fruktkartan/./src/components/ConfirmDialog.vue?7969","webpack://fruktkartan/./src/components/ConfirmDialog.vue?05b3","webpack://fruktkartan/src/components/TreeEditor.vue","webpack://fruktkartan/./src/components/TreeEditor.vue?6a8f","webpack://fruktkartan/./src/components/TreeEditor.vue?3e62","webpack://fruktkartan/./src/components/TreeViewer.vue","webpack://fruktkartan/src/components/TreeViewer.vue","webpack://fruktkartan/./src/components/TreeViewer.vue?80fa","webpack://fruktkartan/./src/components/TreeViewer.vue?8602","webpack://fruktkartan/src/components/AddTreeDialog.vue","webpack://fruktkartan/./src/components/AddTreeDialog.vue?b5c0","webpack://fruktkartan/./src/components/AddTreeDialog.vue?82f0","webpack://fruktkartan/./src/components/ViewTreeDialog.vue","webpack://fruktkartan/src/components/ViewTreeDialog.vue","webpack://fruktkartan/./src/components/ViewTreeDialog.vue?779c","webpack://fruktkartan/./src/components/ViewTreeDialog.vue?a661","webpack://fruktkartan/src/components/Map.vue","webpack://fruktkartan/./src/components/Map.vue?2aa0","webpack://fruktkartan/./src/components/Map.vue?292a","webpack://fruktkartan/./src/components/About.vue","webpack://fruktkartan/src/components/About.vue","webpack://fruktkartan/./src/components/About.vue?189b","webpack://fruktkartan/./src/components/About.vue?8765","webpack://fruktkartan/./src/components/SidebarItem.vue","webpack://fruktkartan/src/components/SidebarItem.vue","webpack://fruktkartan/./src/components/SidebarItem.vue?79bd","webpack://fruktkartan/./src/components/SidebarItem.vue?48ef","webpack://fruktkartan/src/App.vue","webpack://fruktkartan/./src/App.vue?1c7e","webpack://fruktkartan/./src/App.vue?6633","webpack://fruktkartan/./src/plugins/vuetify.js","webpack://fruktkartan/./src/registerServiceWorker.js","webpack://fruktkartan/./src/main.js","webpack://fruktkartan/./src/components/icons/ sync ^\\.\\/.*\\.svg$","webpack://fruktkartan/webpack/bootstrap","webpack://fruktkartan/webpack/runtime/chunk loaded","webpack://fruktkartan/webpack/runtime/compat get default export","webpack://fruktkartan/webpack/runtime/define property getters","webpack://fruktkartan/webpack/runtime/global","webpack://fruktkartan/webpack/runtime/hasOwnProperty shorthand","webpack://fruktkartan/webpack/runtime/make namespace object","webpack://fruktkartan/webpack/runtime/publicPath","webpack://fruktkartan/webpack/runtime/jsonp chunk loading","webpack://fruktkartan/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',{attrs:{\"id\":\"app\"}},[_c('v-navigation-drawer',{attrs:{\"mobile-breakpoint\":960,\"width\":340,\"mini-variant\":_vm.miniVariant,\"right\":\"\",\"bottom\":\"\",\"absolute\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-list',{staticClass:\"d-none d-lg-block\"},[_c('v-list-item',{on:{\"click\":function($event){_vm.miniVariant = !_vm.miniVariant}}},[_c('v-list-item-icon',[(!_vm.miniVariant)?_c('v-icon',[_vm._v(\" \"+_vm._s(_vm.mdiClose)+\" \")]):_vm._e(),(_vm.miniVariant)?_c('v-icon',{attrs:{\"title\":\"Visa panelen\"}},[_vm._v(\" \"+_vm._s(_vm.mdiMenuOpen)+\" \")]):_vm._e()],1),_c('v-list-item-content',[_vm._v(\"Dölj panelen\")])],1)],1)]},proxy:true}]),model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('h1',[_c('v-card-title',{staticClass:\"hidden-lg-and-up\"},[_c('v-img',{attrs:{\"src\":_vm.mLogo[1],\"srcset\":`${_vm.mLogo[1]} 1x,${_vm.mLogo[2]} 2x,${_vm.mLogo[3]} 3x`,\"max-width\":280}})],1),_c('v-card-title',{staticClass:\"hidden-md-and-down\"},[(!_vm.miniVariant)?_c('v-img',{attrs:{\"alt\":\"Fruktkartan\",\"src\":require(\"./assets/img/fruktkartan_a.png\")}},[_c('span',{staticClass:\"beta\",style:({ display: _vm.betaDisplay })},[_vm._v(\"beta\")])]):_c('v-img',{attrs:{\"alt\":\"Fruktkartan\",\"src\":require(\"./assets/img/f_t.png\")}})],1)],1)]),_c('v-list',[_c('SidebarItem',{attrs:{\"icon-img\":_vm.selectedTreeIcon,\"tooltip\":`Visar ${_vm.selectedTreeName.toLowerCase()}`},on:{\"mini-action\":function($event){_vm.miniVariant = false}}},[_c('v-select',{attrs:{\"items\":_vm.selectTreeTypes,\"label\":\"Välj träd att visa\"},model:{value:(_vm.filters.type),callback:function ($$v) {_vm.$set(_vm.filters, \"type\", $$v)},expression:\"filters.type\"}})],1),_c('SidebarItem',{attrs:{\"icon\":_vm.mdiPlus,\"active\":_vm.$refs.map && (_vm.$refs.map.addTree || _vm.$refs.map.addTreeMarker.visible),\"disabled\":_vm.$store.state.offline ||\n          (_vm.$refs.map && _vm.$refs.map.addTreeMarker.visible)},on:{\"on-click\":function($event){return _vm.$refs.map.addNewTree()}}},[_vm._v(\" Lägg till träd \")]),_c('SidebarItem',{attrs:{\"icon\":_vm.mdiInformation,\"active\":_vm.showFAQ,\"to\":\"/om\"}},[_vm._v(\" Om Fruktkartan \")])],1)],1),_c('v-main',[_c('TheMap',{ref:\"map\",staticClass:\"fill-height\",attrs:{\"tree-filters\":_vm.filters},on:{\"open-drawer\":function($event){_vm.drawer = true},\"close-drawer\":function($event){_vm.drawer = null}}}),_c('AboutUs',{model:{value:(_vm.showFAQ),callback:function ($$v) {_vm.showFAQ=$$v},expression:\"showFAQ\"}}),_c('v-snackbar',{attrs:{\"timeout\":-1,\"color\":\"warning\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.offlineWarning = false}}},'v-btn',attrs,false),[_vm._v(\" Stäng \")])]}}]),model:{value:(_vm.offlineWarning),callback:function ($$v) {_vm.offlineWarning=$$v},expression:\"offlineWarning\"}},[_vm._v(\" Vi kunde inte hitta någon internetuppkoppling just nu. Du kommer inte kunna lägga till eller redigera träd förrän du har uppkoppling. \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{attrs:{\"loading\":_vm.loading}},[_c('v-snackbar',{staticStyle:{\"z-index\":\"4\"},attrs:{\"timeout\":-1},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\",\"color\":\"green\"},on:{\"click\":function($event){$event.stopPropagation();_vm.addTree = true}}},'v-btn',attrs,false),[_vm._v(\" Fortsätt \")]),_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":_vm.removeAddTreeMarker}},'v-btn',attrs,false),[_vm._v(\" Avbryt \")])]}}]),model:{value:(_vm.addTreeMarker.visible),callback:function ($$v) {_vm.$set(_vm.addTreeMarker, \"visible\", $$v)},expression:\"addTreeMarker.visible\"}},[_vm._v(\" Dra markören till rätt plats. \")]),_c('v-snackbar',{attrs:{\"color\":_vm.errorMessage.type || 'error',\"timeout\":_vm.errorMessage.timeout,\"top\":true},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.errorMessage.visible = false}}},'v-btn',attrs,false),[_vm._v(\" Stäng \")])]}}]),model:{value:(_vm.errorMessage.visible),callback:function ($$v) {_vm.$set(_vm.errorMessage, \"visible\", $$v)},expression:\"errorMessage.visible\"}},[_vm._v(\" \"+_vm._s(_vm.errorMessage.msg)+\" \")]),_c('l-map',{ref:\"theMap\",staticStyle:{\"z-index\":\"0\"},attrs:{\"center\":_vm.center,\"zoom\":_vm.zoom,\"options\":_vm.mapOptions},on:{\"update:bounds\":_vm.mapUpdated}},[_c('l-control',{staticClass:\"hidden-md-and-up control\",staticStyle:{\"z-index\":\"1\"},attrs:{\"position\":\"bottomleft\"}},[_c('v-icon',{attrs:{\"alt\":\"Meny\",\"title\":\"Meny\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('open-drawer')}}},[_vm._v(\" \"+_vm._s(_vm.mdiMenu)+\" \")]),_c('span',{staticStyle:{\"padding-left\":\"1em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('open-drawer')}}},[_vm._v(\" Meny \")])],1),_c('l-tile-layer',{attrs:{\"url\":_vm.url,\"options\":_vm.layerOptions,\"attribution\":_vm.attribution,\"z-index\":0}}),(_vm.canGeoLocate)?_c('l-control',{staticClass:\"control\",attrs:{\"position\":\"topleft\"}},[_c('v-icon',{on:{\"click\":function($event){$event.stopPropagation();return _vm.retrieveUserPosition.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.mdiCrosshairsGps)+\" \")])],1):_vm._e(),_c('l-marker-cluster',{attrs:{\"options\":_vm.clusterOptions}},_vm._l((_vm.filteredMarkers),function(marker){return _c('l-marker',{key:marker.key,attrs:{\"lat-lng\":marker,\"icon\":marker.icon},on:{\"click\":function($event){return _vm.$router.push(`/t/${marker.key}`)}}})}),1),_c('l-marker',{key:\"addTreeMarker\",attrs:{\"visible\":_vm.addTreeMarker.visible,\"lat-lng\":_vm.addTreeMarker.latLng,\"icon\":_vm.addTreeMarker.icon,\"z-index-offset\":999,\"draggable\":\"\"},on:{\"update:latLng\":function($event){return _vm.$set(_vm.addTreeMarker, \"latLng\", $event)},\"update:lat-lng\":function($event){return _vm.$set(_vm.addTreeMarker, \"latLng\", $event)},\"mouseup\":_vm.addTreeIconMouseUp}}),_c('ViewTreeDialog',{on:{\"change\":_vm.fetchMarkers,\"tree-loaded\":_vm.adjustMapToTree,\"error\":_vm.showErrorMessage,\"info\":_vm.showInfoMessage},model:{value:(_vm.viewTree),callback:function ($$v) {_vm.viewTree=$$v},expression:\"viewTree\"}}),_c('AddTreeDialog',{attrs:{\"lat-lng\":_vm.addTreeMarker.latLng},on:{\"abort\":_vm.removeAddTreeMarker,\"added\":function($event){_vm.removeAddTreeMarker()\n        _vm.fetchMarkers()},\"error\":_vm.showErrorMessage},model:{value:(_vm.addTree),callback:function ($$v) {_vm.addTree=$$v},expression:\"addTree\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"max-width\":\"500\",\"persistent\":\"\"},model:{value:(_vm.displayDialog),callback:function ($$v) {_vm.displayDialog=$$v},expression:\"displayDialog\"}},[(_vm.step === 'edit')?_c('TreeEditor',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Lägg till träd \")]},proxy:true},{key:\"buttons\",fn:function(){return [_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-btn',{on:{\"click\":function($event){return _vm.$emit('input', false)}}},[_vm._v(\" Tillbaka \")])],1),_c('v-col',[_c('v-btn',{attrs:{\"color\":\"green\",\"disabled\":!_vm.tree.valid},on:{\"click\":function($event){_vm.step = 'preview'}}},[_vm._v(\" Fortsätt \")])],1),_c('v-spacer'),_c('v-col',[_c('v-btn',{on:{\"click\":function($event){_vm.$emit('input', false)\n              _vm.$emit('abort')}}},[_vm._v(\" Avbryt \")])],1)],1)]},proxy:true}],null,false,3938234122),model:{value:(_vm.tree),callback:function ($$v) {_vm.tree=$$v},expression:\"tree\"}}):_vm._e(),(_vm.step === 'preview')?_c('TreeViewer',{attrs:{\"tree\":{ ..._vm.tree, lat: _vm.latLng.lat, lon: _vm.latLng.lng },\"preview\":true},scopedSlots:_vm._u([{key:\"buttons\",fn:function(){return [_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-btn',{on:{\"click\":function($event){_vm.step = 'edit'}}},[_vm._v(\" Tillbaka \")])],1),_c('v-col',[_c('v-btn',{attrs:{\"color\":\"green\"},on:{\"click\":_vm.addTree}},[_vm._v(\" Publicera \")])],1),_c('v-spacer'),_c('v-col',[_c('v-btn',{on:{\"click\":function($event){_vm.step = 'edit'\n              _vm.$emit('input', false)\n              _vm.$emit('abort')}}},[_vm._v(\" Avbryt \")])],1)],1)]},proxy:true}],null,false,1701345571)}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',[_c('v-card-title',[_vm._t(\"title\")],2),_c('v-card-text',[_c('v-form',{on:{\"input\":function($event){return _vm.$emit('input', _vm.tree_)}},model:{value:(_vm.tree_.valid),callback:function ($$v) {_vm.$set(_vm.tree_, \"valid\", $$v)},expression:\"tree_.valid\"}},[_c('v-select',{attrs:{\"required\":\"\",\"rules\":[v => !!v || 'Du måste ange en trädsort'],\"items\":_vm.insertableTrees,\"label\":\"Trädsort\"},model:{value:(_vm.tree_.type),callback:function ($$v) {_vm.$set(_vm.tree_, \"type\", $$v)},expression:\"tree_.type\"}}),_c('div',[(_vm.file)?_c('v-img',{attrs:{\"src\":_vm.previewSource,\"height\":\"194\",\"alt\":\"Ny bild\"}}):_c('TreeImage',{attrs:{\"image\":_vm.tree.file,\"alt\":\"Nuvarande bild\"}})],1),(_vm.tree_.file && !_vm.file)?_c('div',[_c('v-btn',{staticClass:\"px-2 mt-1\",attrs:{\"small\":\"\",\"color\":\"red lighten-3\"},on:{\"click\":_vm.deleteImage}},[_c('v-icon',[_vm._v(_vm._s(_vm.mdiDeleteOutline))]),_vm._v(\"Ta bort bilden \")],1)],1):_vm._e(),_c('v-file-input',{attrs:{\"accept\":\"image/*\",\"label\":\"Ladda upp en bild\"},on:{\"change\":_vm.fileChanged},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}}),_c('v-progress-linear',{attrs:{\"active\":_vm.uploading,\"value\":_vm.uploadingProgress,\"striped\":true}}),(_vm.file)?_c('p',[_vm._v(\" Bildens rotation kan vara fel här, men bör bli rätt i nästa steg. \")]):_vm._e(),_c('v-textarea',{attrs:{\"rules\":[\n          v => {\n            if (v && v.trim()) {\n              return true\n            }\n            return 'Beskriv trädet innan du fortsätter'\n          },\n        ],\"required\":\"\",\"label\":\"Beskrivning\"},model:{value:(_vm.tree_.desc),callback:function ($$v) {_vm.$set(_vm.tree_, \"desc\", $$v)},expression:\"tree_.desc\"}})],1)],1),_c('v-card-actions',[_vm._t(\"buttons\")],2),_c('ConfirmDialog',{ref:\"confirm\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.image && !_vm.err)?_c('v-img',{attrs:{\"src\":_vm.img,\"lazy-src\":_vm.placeholder,\"srcset\":_vm.img_srcset,\"alt\":_vm.alt,\"width\":_vm.width},on:{\"error\":function($event){return _vm.startPolling()},\"load\":function($event){return _vm.stopPolling()}},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-row',{staticClass:\"fill-height ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"grey lighten-1\"}})],1)]},proxy:true}],null,false,1824347719)}):_vm._e(),(_vm.err)?_c('v-card',{staticClass:\"warning\"},[_c('v-card-text',[_vm._v(\" Bilden kunde inte visas just nu. Det kan bero på att den nyss laddats upp och fortfarande bearbetas, eller på att den är trasig. \")])],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Display an image in a tree view. -->\n<template>\n  <div>\n    <v-img\n      v-if=\"image && !err\"\n      :src=\"img\"\n      :lazy-src=\"placeholder\"\n      :srcset=\"img_srcset\"\n      :alt=\"alt\"\n      :width=\"width\"\n      @error=\"startPolling()\"\n      @load=\"stopPolling()\"\n    >\n      <template #placeholder>\n        <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\">\n          <v-progress-circular indeterminate color=\"grey lighten-1\" />\n        </v-row>\n      </template>\n    </v-img>\n    <v-card v-if=\"err\" class=\"warning\">\n      <v-card-text>\n        Bilden kunde inte visas just nu. Det kan bero på att den nyss laddats\n        upp och fortfarande bearbetas, eller på att den är trasig.\n      </v-card-text>\n    </v-card>\n  </div>\n</template>\n\n<script>\nconst S3_BASE = process.env.VUE_APP_S3_BASE\nconst WIDTH = 400\n\nexport default {\n  name: \"TreeImage\",\n  props: {\n    image: {\n      type: String,\n      default: null,\n    },\n    alt: {\n      type: String,\n      default: \"\",\n    },\n  },\n  data: function () {\n    return {\n      err: false,\n      width: WIDTH,\n      placeholder: require(\"@/assets/placeholder.jpg\"),\n      timer: null,\n      timerTicks: 0,\n    }\n  },\n  computed: {\n    img: function () {\n      // Adding the url fragment serves two purposes:\n      // - It will trigger a redraw (polling for the image)\n      // - It will fix some cache issues when an image is generated after page load\n      return `${S3_BASE}/${this.image}_${WIDTH}.jpg?ci=${this.timerTicks}`\n    },\n    img_srcset: function () {\n      return [1, 1.5, 2, 3]\n        .map(x => `${S3_BASE}/${this.image}_${WIDTH * x}.jpg ${x}x`)\n        .join(\",\")\n    },\n  },\n  watch: {\n    image: function () {\n      // Because the same component is reused, we need to reset\n      // some data when showing a new image\n      this.err = false\n      this.stopPolling()\n      this.timerTicks = 0\n      this.timer = null\n    },\n  },\n  beforeDestroy() {\n    // This is probably never really needed\n    this.stopPolling()\n  },\n  methods: {\n    stopPolling: function () {\n      if (this.timer) {\n        clearInterval(this.timer)\n      }\n    },\n    startPolling: function () {\n      // start polling the image server for an image, in case it wasn't\n      // yet generated on the first attemt. Generating an image thumb can\n      // sometimes take a couple of seconds.\n\n      if (this.timer) {\n        // Don't start multiple timers\n        return\n      }\n      this.timer = setInterval(() => {\n        this.timerTicks += 1\n        if (this.timerTicks > 5) {\n          this.err = true\n          this.stopPolling()\n        }\n      }, 750)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TreeImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TreeImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeImage.vue?vue&type=template&id=1613646e&\"\nimport script from \"./TreeImage.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeImage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"max-width\":_vm.options.width},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.negative.apply(null, arguments)}},model:{value:(_vm.displayDialog),callback:function ($$v) {_vm.displayDialog=$$v},expression:\"displayDialog\"}},[_c('v-card',[_c('v-card-text',{staticClass:\"pa-6\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]),_c('p',[_vm._v(\" Skriv då \"),_c('code',[_vm._v(\"ja\")]),_vm._v(\" nedan och tryck \"),_c('code',[_vm._v(_vm._s(_vm.options.positiveText))]),_vm._v(\". \")]),_c('v-text-field',{attrs:{\"label\":\"skriv här\"},model:{value:(_vm.confirm),callback:function ($$v) {_vm.confirm=$$v},expression:\"confirm\"}})],1),_c('v-card-actions',{staticClass:\"pt-0\"},[_c('v-btn',{attrs:{\"small\":\"\"},nativeOn:{\"click\":function($event){return _vm.negative.apply(null, arguments)}}},[_vm._v(\" Nej \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"color\":_vm.options.positiveColor,\"disabled\":!_vm.confirmed},nativeOn:{\"click\":function($event){return _vm.positive.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.options.positiveText)+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"displayDialog\"\n    :max-width=\"options.width\"\n    @keydown.esc=\"negative\"\n  >\n    <v-card>\n      <v-card-text class=\"pa-6\">\n        <p>\n          {{ message }}\n        </p>\n        <p>\n          Skriv då <code>ja</code> nedan och tryck\n          <code>{{ options.positiveText }}</code\n          >.\n        </p>\n        <v-text-field v-model=\"confirm\" label=\"skriv här\" />\n      </v-card-text>\n      <v-card-actions class=\"pt-0\">\n        <v-btn small @click.native=\"negative\"> Nej </v-btn>\n        <v-spacer />\n        <v-btn\n          small\n          :color=\"options.positiveColor\"\n          :disabled=\"!confirmed\"\n          @click.native=\"positive\"\n        >\n          {{ options.positiveText }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    dialog: false,\n    confirm: null,\n    resolve: null,\n    reject: null,\n    message: null,\n    defaultOptions: {\n      width: 350,\n      positiveText: \"Ta bort\",\n      positiveColor: \"red lighten-3\",\n    },\n    options: {},\n  }),\n  computed: {\n    displayDialog: {\n      get() {\n        return this.dialog\n      },\n      set(value) {\n        this.dialog = value\n        if (value === false) {\n          this.negative()\n        }\n      },\n    },\n    confirmed: {\n      get() {\n        return (\n          this.confirm &&\n          this.confirm.toLowerCase().replace(/[ \"']/g, \"\") === \"ja\"\n        )\n      },\n    },\n  },\n  methods: {\n    open(message, options) {\n      this.confirm = null\n      this.dialog = true\n      this.message = message\n      Object.assign(this.options, this.defaultOptions)\n      this.options = Object.assign(this.options, options)\n      return new Promise((resolve, reject) => {\n        this.resolve = resolve\n        this.reject = reject\n      })\n    },\n    positive() {\n      this.resolve(true)\n      this.dialog = false\n    },\n    negative() {\n      this.resolve(false)\n      this.dialog = false\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=2f577ad0&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- A tree editor shared by addTree dialog and editTree dialog. -->\n<template>\n  <v-card>\n    <v-card-title><slot name=\"title\" /></v-card-title>\n    <v-card-text>\n      <v-form v-model=\"tree_.valid\" @input=\"$emit('input', tree_)\">\n        <v-select\n          v-model=\"tree_.type\"\n          required\n          :rules=\"[v => !!v || 'Du måste ange en trädsort']\"\n          :items=\"insertableTrees\"\n          label=\"Trädsort\"\n        />\n\n        <div>\n          <v-img v-if=\"file\" :src=\"previewSource\" height=\"194\" alt=\"Ny bild\" />\n          <TreeImage v-else :image=\"tree.file\" alt=\"Nuvarande bild\" />\n        </div>\n        <div v-if=\"tree_.file && !file\">\n          <v-btn\n            small\n            class=\"px-2 mt-1\"\n            color=\"red lighten-3\"\n            @click=\"deleteImage\"\n          >\n            <v-icon>{{ mdiDeleteOutline }}</v-icon\n            >Ta bort bilden\n          </v-btn>\n        </div>\n        <v-file-input\n          v-model=\"file\"\n          accept=\"image/*\"\n          label=\"Ladda upp en bild\"\n          @change=\"fileChanged\"\n        />\n        <v-progress-linear\n          :active=\"uploading\"\n          :value=\"uploadingProgress\"\n          :striped=\"true\"\n        />\n        <p v-if=\"file\">\n          Bildens rotation kan vara fel här, men bör bli rätt i nästa steg.\n        </p>\n        <v-textarea\n          v-model=\"tree_.desc\"\n          :rules=\"[\n            v => {\n              if (v && v.trim()) {\n                return true\n              }\n              return 'Beskriv trädet innan du fortsätter'\n            },\n          ]\"\n          required\n          label=\"Beskrivning\"\n        />\n      </v-form>\n    </v-card-text>\n    <v-card-actions><slot name=\"buttons\" /></v-card-actions>\n    <ConfirmDialog ref=\"confirm\" />\n  </v-card>\n</template>\n\n<script>\n/**\n * A tree editor, for use in dialogs.\n * Implements v-model\n *\n */\nimport TreeImage from \"./TreeImage.vue\"\nimport { mdiDeleteOutline } from \"@mdi/js\"\nimport ConfirmDialog from \"./ConfirmDialog.vue\"\n\nexport default {\n  name: \"TreeEditor\",\n  components: {\n    TreeImage,\n    ConfirmDialog,\n  },\n  model: {\n    prop: \"tree\",\n  },\n  props: {\n    tree: {\n      type: Object,\n      default: () => ({\n        valid: false,\n        file: null,\n      }),\n    },\n  },\n  data() {\n    return {\n      tree_: this.tree,\n\n      predefinedTrees: require(\"../assets/insertableTrees.json\"),\n      file: null,\n      uploading: false,\n      uploadingProgress: 0,\n      uploadOk: null,\n\n      mdiDeleteOutline,\n    }\n  },\n  computed: {\n    insertableTrees() {\n      let treeList = Array.from(this.predefinedTrees)\n      if (this.tree_.type && !(this.tree_.type in treeList)) {\n        treeList.push(this.tree_.type)\n      }\n      return treeList\n    },\n    previewSource() {\n      return URL.createObjectURL(this.file)\n    },\n  },\n  watch: {\n    tree: function (val1, val2) {\n      this.tree_ = val2\n    },\n  },\n  methods: {\n    deleteImage() {\n      this.$refs.confirm\n        .open(\"Är du säker på att du vill ta bort bilden?\")\n        .then(confirm => {\n          if (confirm) {\n            this.tree_.file = null\n          }\n        })\n    },\n    fileChanged() {\n      if (!this.file) {\n        // Reset tree.file in case someone deleted a file they just uploaded\n        this.tree_.file = null\n      }\n\n      this.uploading = true\n      fetch(`${process.env.VUE_APP_APIBASE}/sign`, {\n        method: \"POST\",\n        body: JSON.stringify({ \"file-name\": this.file.name }),\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n        .then(response => response.json())\n        .then(response => {\n          // Rename file. File.name is readonly in most environs\n          // Creating a new file object works, except for IE and some Opera versions\n          let renamedFile = new File([this.file], response.filename, {\n            type: this.file.type,\n          })\n          let request = new XMLHttpRequest()\n          request.open(\"PUT\", response.signedRequest)\n          request.upload.addEventListener(\"progress\", e => {\n            this.uploadingProgress = (e.loaded / e.total) * 100\n          })\n          request.onreadystatechange = () => {\n            if (request.readyState === 4) {\n              this.uploading = false\n              this.uploadingProgress = 0\n              if (request.status === 200) {\n                this.uploadOk = true\n                // pass\n              } else {\n                // FIXME error reporting\n                this.uploadOk = false\n                console.log(\"Error uploading:\", request.status)\n              }\n            }\n          }\n          request.send(renamedFile)\n          this.tree_.file = response.filename\n        })\n        .catch(err => {\n          // FIXME error reporting\n          console.log(\"Error getting upload signature\", err)\n          this.uploading = false\n          this.uploadingProgress = 0\n          this.uploadOk = false\n        })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TreeEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TreeEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeEditor.vue?vue&type=template&id=470ec311&\"\nimport script from \"./TreeEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{attrs:{\"loading\":_vm.loading}},[(_vm.preview)?_c('v-card-text',[_c('div',{staticClass:\"pt-4\"},[_vm._v(\"FÖRHANDSGRANSKNING\")]),_c('div',[_c('small',[_c('em',[_vm._v(\" Ditt bidrag licenseras med \"),_c('a',{attrs:{\"href\":\"https://opendatacommons.org/licenses/odbl/summary/\",\"target\":\"_blank\"}},[_vm._v(\"Open Database License\")]),_vm._v(\", bilder med \"),_c('a',{attrs:{\"href\":\"https://creativecommons.org/publicdomain/zero/1.0/deed.sv\",\"target\":\"_blank\"}},[_vm._v(\"CC0\")]),_vm._v(\". \")])])])]):_vm._e(),_c('v-card-title',[_vm._v(_vm._s(_vm.tree.type)+\" \")]),_c('v-card-text',[_c('p',[_c('small',[_c('em',[_vm._v(\"Uppdaterat den \"+_vm._s(_vm.prettyDate(_vm.date)))]),_c('br'),_c('v-icon',{staticClass:\"mr-1\",attrs:{\"alt\":\"Koordinater\",\"x-small\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.mdiMapMarker)+\" \")]),_c('var',[_c('a',{attrs:{\"href\":_vm.geoURI,\"title\":\"Visa i separat karta\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\" \"+_vm._s(_vm.geoPos)+\" \")])])],1)]),_c('p',{staticClass:\"description\"},[_vm._v(\" \"+_vm._s(_vm.tree.desc ? _vm.tree.desc.trim() : \"\")+\" \")]),_c('TreeImage',{attrs:{\"image\":_vm.tree.file,\"alt\":\"Bild av trädet\"}})],1),_c('v-card-actions',[_vm._t(\"buttons\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Tree view, used in the regular view interface, as well as editing previews -->\n\n<template>\n  <v-card :loading=\"loading\">\n    <v-card-text v-if=\"preview\">\n      <div class=\"pt-4\">FÖRHANDSGRANSKNING</div>\n      <div>\n        <small>\n          <em>\n            Ditt bidrag licenseras med\n            <a\n              href=\"https://opendatacommons.org/licenses/odbl/summary/\"\n              target=\"_blank\"\n              >Open Database License</a\n            >, bilder med\n            <a\n              href=\"https://creativecommons.org/publicdomain/zero/1.0/deed.sv\"\n              target=\"_blank\"\n              >CC0</a\n            >.\n          </em>\n        </small>\n      </div>\n    </v-card-text>\n    <v-card-title>{{ tree.type }} </v-card-title>\n    <v-card-text>\n      <p>\n        <small>\n          <em>Uppdaterat den {{ prettyDate(date) }}</em>\n          <br />\n          <v-icon alt=\"Koordinater\" x-small class=\"mr-1\">\n            {{ mdiMapMarker }}\n          </v-icon>\n          <var>\n            <a\n              :href=\"geoURI\"\n              title=\"Visa i separat karta\"\n              target=\"_blank\"\n              rel=\"noopener\"\n            >\n              {{ geoPos }}\n            </a>\n          </var>\n        </small>\n      </p>\n      <p class=\"description\">\n        {{ tree.desc ? tree.desc.trim() : \"\" }}\n      </p>\n      <TreeImage :image=\"tree.file\" alt=\"Bild av trädet\" />\n    </v-card-text>\n    <v-card-actions>\n      <slot name=\"buttons\" />\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\n/**\n * A tree editor, for use in dialogs.\n * Implements v-model\n *\n */\nimport TreeImage from \"./TreeImage.vue\"\nimport dayjs from \"dayjs\"\nimport \"dayjs/locale/sv\"\nimport { mdiMapMarker } from \"@mdi/js\"\ndayjs.locale(\"sv\")\n\nexport default {\n  name: \"TreeViewer\",\n  components: {\n    TreeImage,\n  },\n  model: {\n    prop: [\"loading\", \"preview\", \"tree\"],\n  },\n  props: {\n    loading: {\n      type: Boolean,\n    },\n    preview: {\n      type: Boolean,\n      default: false,\n    },\n    tree: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data: function () {\n    return {\n      mdiMapMarker,\n    }\n  },\n  computed: {\n    date() {\n      if (this.preview) {\n        return new Date()\n      } else {\n        return this.tree.added\n      }\n    },\n    geoPos() {\n      if (!this.tree || !this.tree.lat || !this.tree.lon) {\n        return \"\"\n      }\n      return `${this.tree.lat.toFixed(6)},${this.tree.lon.toFixed(6)}`\n    },\n    geoURI() {\n      if (!this.tree) {\n        return \"\"\n      }\n      return `geo:${this.geoPos}`\n    },\n  },\n  methods: {\n    prettyDate(date) {\n      if (!date) {\n        return \"\"\n      }\n      const d = dayjs(date)\n      return `${d.format(\"D MMMM YYYY\")} kl. ${d.format(\"H.mm\")}`\n    },\n  },\n}\n</script>\n\n<style>\n.description {\n  white-space: pre-wrap;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TreeViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TreeViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeViewer.vue?vue&type=template&id=5647a0ad&\"\nimport script from \"./TreeViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreeViewer.vue?vue&type=style&index=0&id=5647a0ad&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-dialog v-model=\"displayDialog\" max-width=\"500\" persistent>\n    <TreeEditor v-if=\"step === 'edit'\" v-model=\"tree\">\n      <template #title> Lägg till träd </template>\n      <template #buttons>\n        <v-row dense>\n          <v-col>\n            <v-btn @click=\"$emit('input', false)\"> Tillbaka </v-btn>\n          </v-col>\n          <v-col>\n            <v-btn\n              color=\"green\"\n              :disabled=\"!tree.valid\"\n              @click=\"step = 'preview'\"\n            >\n              Fortsätt\n            </v-btn>\n          </v-col>\n          <v-spacer />\n          <v-col>\n            <v-btn\n              @click=\"\n                $emit('input', false)\n                $emit('abort')\n              \"\n            >\n              Avbryt\n            </v-btn>\n          </v-col>\n        </v-row>\n      </template>\n    </TreeEditor>\n\n    <TreeViewer\n      v-if=\"step === 'preview'\"\n      :tree=\"{ ...tree, lat: latLng.lat, lon: latLng.lng }\"\n      :preview=\"true\"\n    >\n      <template #buttons>\n        <v-row dense>\n          <v-col>\n            <v-btn @click=\"step = 'edit'\"> Tillbaka </v-btn>\n          </v-col>\n          <v-col>\n            <v-btn color=\"green\" @click=\"addTree\"> Publicera </v-btn>\n          </v-col>\n          <v-spacer />\n          <v-col>\n            <v-btn\n              @click=\"\n                step = 'edit'\n                $emit('input', false)\n                $emit('abort')\n              \"\n            >\n              Avbryt\n            </v-btn>\n          </v-col>\n        </v-row>\n      </template>\n    </TreeViewer>\n  </v-dialog>\n</template>\n\n<script>\nimport TreeEditor from \"./TreeEditor.vue\"\nimport TreeViewer from \"./TreeViewer.vue\"\n\nexport default {\n  name: \"AddTreeDialog\",\n  components: {\n    TreeEditor,\n    TreeViewer,\n  },\n  props: {\n    value: {\n      type: Boolean,\n    },\n    latLng: {\n      type: Object,\n      default: () => ({\n        lat: null,\n        lng: null,\n      }),\n    },\n  },\n  data() {\n    return {\n      step: \"edit\",\n      tree: {},\n    }\n  },\n  computed: {\n    displayDialog: function () {\n      return this.value ? true : false\n    },\n  },\n  methods: {\n    addTree: function () {\n      let treePayload = {\n        ...this.tree,\n        lat: this.latLng.lat,\n        lon: this.latLng.lng,\n      }\n      treePayload.type = treePayload.type.trim()\n      treePayload.desc = treePayload.desc.trim()\n      fetch(`${process.env.VUE_APP_APIBASE}/tree`, {\n        method: \"PUT\",\n        body: JSON.stringify(treePayload),\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n        .then(() => {\n          this.step = \"edit\"\n          this.tree = {}\n          this.$emit(\"input\", false)\n          this.$emit(\"added\")\n        })\n        .catch(err => {\n          const msg =\n            \"Vi lyckades inte spara trädet just nu: \" +\n            err +\n            \"\\nFörsök gärna igen om en stund!\"\n          this.$emit(\"error\", msg)\n        })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddTreeDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddTreeDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddTreeDialog.vue?vue&type=template&id=6dde4ccd&\"\nimport script from \"./AddTreeDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./AddTreeDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"max-width\":\"440\",\"persistent\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.close.apply(null, arguments)}},model:{value:(_vm.displayDialog),callback:function ($$v) {_vm.displayDialog=$$v},expression:\"displayDialog\"}},[(_vm.step === 'view')?_c('TreeViewer',{attrs:{\"loading\":!Object.entries(_vm.tree).length,\"tree\":_vm.tree},scopedSlots:_vm._u([{key:\"buttons\",fn:function(){return [_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-btn',{on:{\"click\":_vm.close}},[_vm._v(\" Stäng \")])],1),_c('v-spacer'),_c('v-col',[_c('v-btn',{attrs:{\"disabled\":_vm.$store.state.offline},on:{\"click\":function($event){_vm.step = 'delete'}}},[_vm._v(\" Radera \")])],1),_c('v-col',[_c('v-btn',{attrs:{\"disabled\":_vm.$store.state.offline},on:{\"click\":function($event){_vm.step = 'edit'\n              _vm.newTree = { ..._vm.tree }}}},[_vm._v(\" Redigera \")])],1)],1)]},proxy:true}],null,false,3075859676)}):_vm._e(),(_vm.step === 'edit')?_c('TreeEditor',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Redigera träd \")]},proxy:true},{key:\"buttons\",fn:function(){return [_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-btn',{on:{\"click\":function($event){_vm.step = 'view'}}},[_vm._v(\" Tillbaka \")])],1),_c('v-spacer'),_c('v-col',[_c('v-btn',{attrs:{\"color\":\"green\",\"disabled\":!_vm.newTree.valid || _vm.treesAreEqual(_vm.newTree, _vm.tree)},on:{\"click\":_vm.towardsPreview}},[_vm._v(\" Fortsätt \")])],1)],1)]},proxy:true}],null,false,3490073409),model:{value:(_vm.newTree),callback:function ($$v) {_vm.newTree=$$v},expression:\"newTree\"}}):_vm._e(),(_vm.step === 'preview')?_c('TreeViewer',{attrs:{\"tree\":_vm.newTree,\"preview\":true},scopedSlots:_vm._u([{key:\"buttons\",fn:function(){return [_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-btn',{on:{\"click\":function($event){_vm.step = 'edit'}}},[_vm._v(\" Tillbaka \")])],1),_c('v-col',[_c('v-btn',{attrs:{\"color\":\"green\",\"disabled\":_vm.$store.state.offline},on:{\"click\":_vm.submitTree}},[_vm._v(\" Spara ändringar \")])],1),_c('v-spacer'),_c('v-col',[_c('v-btn',{on:{\"click\":_vm.close}},[_vm._v(\" Avbryt \")])],1)],1)]},proxy:true}],null,false,408155281)}):_vm._e(),(_vm.step === 'delete')?_c('v-card',{attrs:{\"loading\":_vm.working}},[_c('v-card-title',[_vm._v(\"Anmäl träd för radering\")]),_c('v-card-text',[_c('p',[_vm._v(\" Tala om varför det här trädet ska raderas, så tar en av oss hand om det så snart som bara möjligt. \")]),_c('v-textarea',{attrs:{\"disabled\":_vm.working,\"rules\":[\n          v => {\n            if (v && v.trim()) {\n              return true\n            }\n            return 'Du behöver tala om varför trädet ska raderas'\n          },\n        ],\"required\":\"\",\"label\":\"Motivering\"},model:{value:(_vm.deleteReason),callback:function ($$v) {_vm.deleteReason=$$v},expression:\"deleteReason\"}})],1),_c('v-card-actions',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-btn',{on:{\"click\":function($event){_vm.step = 'view'}}},[_vm._v(\" Tillbaka \")])],1),_c('v-spacer'),_c('v-col',[_c('v-btn',{attrs:{\"color\":\"red\",\"disabled\":_vm.working ||\n              _vm.$store.state.offline ||\n              !_vm.deleteReason ||\n              !_vm.deleteReason.trim()},on:{\"click\":_vm.flagForDeletion}},[_vm._v(\" Anmäl för radering \")])],1)],1)],1)],1):_vm._e(),_c('ConfirmDialog',{ref:\"confirm\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"displayDialog\"\n    max-width=\"440\"\n    persistent\n    @keydown.esc=\"close\"\n  >\n    <TreeViewer\n      v-if=\"step === 'view'\"\n      :loading=\"!Object.entries(tree).length\"\n      :tree=\"tree\"\n    >\n      <template #buttons>\n        <v-row dense>\n          <v-col>\n            <v-btn @click=\"close\"> Stäng </v-btn>\n          </v-col>\n          <v-spacer />\n          <v-col>\n            <v-btn :disabled=\"$store.state.offline\" @click=\"step = 'delete'\">\n              Radera\n            </v-btn>\n          </v-col>\n          <v-col>\n            <v-btn\n              :disabled=\"$store.state.offline\"\n              @click=\"\n                step = 'edit'\n                newTree = { ...tree }\n              \"\n            >\n              Redigera\n            </v-btn>\n          </v-col>\n        </v-row>\n      </template>\n    </TreeViewer>\n\n    <TreeEditor v-if=\"step === 'edit'\" v-model=\"newTree\">\n      <template #title> Redigera träd </template>\n      <template #buttons>\n        <v-row dense>\n          <v-col>\n            <v-btn @click=\"step = 'view'\"> Tillbaka </v-btn>\n          </v-col>\n          <v-spacer />\n          <v-col>\n            <v-btn\n              color=\"green\"\n              :disabled=\"!newTree.valid || treesAreEqual(newTree, tree)\"\n              @click=\"towardsPreview\"\n            >\n              Fortsätt\n            </v-btn>\n          </v-col>\n        </v-row>\n      </template>\n    </TreeEditor>\n\n    <TreeViewer v-if=\"step === 'preview'\" :tree=\"newTree\" :preview=\"true\">\n      <template #buttons>\n        <v-row dense>\n          <v-col>\n            <v-btn @click=\"step = 'edit'\"> Tillbaka </v-btn>\n          </v-col>\n          <v-col>\n            <v-btn\n              color=\"green\"\n              :disabled=\"$store.state.offline\"\n              @click=\"submitTree\"\n            >\n              Spara ändringar\n            </v-btn>\n          </v-col>\n          <v-spacer />\n          <v-col>\n            <v-btn @click=\"close\"> Avbryt </v-btn>\n          </v-col>\n        </v-row>\n      </template>\n    </TreeViewer>\n\n    <v-card v-if=\"step === 'delete'\" :loading=\"working\">\n      <v-card-title>Anmäl träd för radering</v-card-title>\n      <v-card-text>\n        <p>\n          Tala om varför det här trädet ska raderas, så tar en av oss hand om\n          det så snart som bara möjligt.\n        </p>\n        <v-textarea\n          v-model=\"deleteReason\"\n          :disabled=\"working\"\n          :rules=\"[\n            v => {\n              if (v && v.trim()) {\n                return true\n              }\n              return 'Du behöver tala om varför trädet ska raderas'\n            },\n          ]\"\n          required\n          label=\"Motivering\"\n        />\n      </v-card-text>\n      <v-card-actions>\n        <v-row dense>\n          <v-col>\n            <v-btn @click=\"step = 'view'\"> Tillbaka </v-btn>\n          </v-col>\n          <v-spacer />\n          <v-col>\n            <v-btn\n              color=\"red\"\n              :disabled=\"\n                working ||\n                $store.state.offline ||\n                !deleteReason ||\n                !deleteReason.trim()\n              \"\n              @click=\"flagForDeletion\"\n            >\n              Anmäl för radering\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-card-actions>\n    </v-card>\n    <ConfirmDialog ref=\"confirm\" />\n  </v-dialog>\n</template>\n\n<script>\nimport TreeViewer from \"./TreeViewer.vue\"\nimport TreeEditor from \"./TreeEditor.vue\"\nimport ConfirmDialog from \"./ConfirmDialog.vue\"\n//import { mdiConsoleNetwork } from \"@mdi/js\"\n\nfunction raiseOnHttpError(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response\n  } else {\n    let error = new Error(response.statusText)\n    error.response = response\n    throw error\n  }\n}\n\nexport default {\n  name: \"ViewTreeDialog\",\n  components: {\n    TreeViewer,\n    TreeEditor,\n    ConfirmDialog,\n  },\n  props: {\n    value: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      step: \"view\",\n      treeCache: {},\n      tree: {},\n      newTree: {},\n      deleteReason: null,\n      working: false,\n    }\n  },\n  computed: {\n    displayDialog: function () {\n      return this.value ? true : false\n    },\n  },\n  /* The dialog is opened before data has been loaded, so we need to watch for\n     tree data change, to update the newTree object (used when editing)\n  */\n  watch: {\n    value: function (key) {\n      if (!key) {\n        this.tree = {}\n        return\n      }\n      this.fetchTree()\n    },\n  },\n  created: function () {\n    // If routed here, we'll have a tree from start\n    if (this.value) {\n      this.fetchTree()\n    }\n    // if (\"tree\" in this.$route.params) {\n    //    console.log(this.$route.params.tree)\n    //    this.viewTree = this.$route.params.tree\n    //  }\n  },\n  methods: {\n    close() {\n      this.step = \"view\"\n      this.$emit(\"input\", null)\n    },\n    flagForDeletion() {\n      this.working = true\n      const key = this.value\n      fetch(`${process.env.VUE_APP_APIBASE}/flag/${key}/delete`, {\n        method: \"POST\",\n      })\n        .then(raiseOnHttpError)\n        .then(() => {\n          const msg =\n            \"Trädet är markerat för radering. Vi tittar på det så snart vi kan.\"\n          this.$emit(\"info\", msg)\n        })\n        .catch(err => {\n          let msg\n          if (err.response && err.response.status === 404) {\n            msg =\n              \"Du har försökt ta bort ett träd som inte finns. \" +\n              \"Kanske har det redan hunnit tas bort?\"\n          } else {\n            msg =\n              \"Något gick snett när vi försökte markera det här trädet för radering. \" +\n              err\n          }\n          this.$emit(\"error\", msg)\n        })\n        .finally(() => {\n          this.working = false\n          this.close()\n        })\n    },\n    fetchTree() {\n      const key = this.value\n      const getData = new Promise(resolve => {\n        if (this.treeCache[key]) {\n          resolve(this.treeCache[key])\n        } else {\n          fetch(`${process.env.VUE_APP_APIBASE}/tree/${key}`)\n            .then(raiseOnHttpError)\n            .then(response => response.json())\n            .then(resolve)\n            .catch(err => {\n              let msg\n              if (err.response && err.response.status === 404) {\n                msg =\n                  \"Du har följt en länk till ett träd som inte finns. \" +\n                  \"Kanske har det tagits bort?\"\n              } else {\n                msg =\n                  \"Något gick snett när vi försökte hämta det här trädet. \" +\n                  err\n              }\n              this.$emit(\"error\", msg)\n              this.close()\n            })\n        }\n      })\n\n      getData\n        .then(data => {\n          this.$emit(\"tree-loaded\", data)\n          this.tree = data\n          this.treeCache[key] = this.tree\n        })\n        .catch(err => {\n          const msg = \"Vi lyckades inte hämta det här trädet just nu. \" + err\n          this.$emit(\"error\", msg)\n          this.close()\n        })\n    },\n\n    towardsPreview() {\n      // tree is edited, we require confirmation if changing tree type\n      if (this.tree.type === this.newTree.type) {\n        this.step = \"preview\"\n        return\n      }\n      this.$refs.confirm\n        .open(\n          `Vill du ändra trädets typ från ${this.tree.type} till ${this.newTree.type}?`,\n          { positiveText: \"Fortsätt\", positiveColor: \"green\" }\n        )\n        .then(confirm => {\n          if (confirm) {\n            this.step = \"preview\"\n          }\n        })\n    },\n\n    submitTree() {\n      let key = this.value\n      let treePayload = this.newTree\n      treePayload.type = treePayload.type.trim()\n      treePayload.desc = treePayload.desc.trim()\n      fetch(`${process.env.VUE_APP_APIBASE}/tree/${this.value}`, {\n        method: \"POST\",\n        body: JSON.stringify(treePayload),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n        .then(() => {\n          delete this.treeCache[key]\n          this.$emit(\"change\") // trigger map refresh, in case tree type changed\n          this.close()\n        })\n        .catch(err => {\n          // Display error msg, but do not close.\n          // User might want to try again\n          const msg = \"Ett fel uppstod när trädet skulle uppdateras: \" + err\n          this.$emit(\"error\", msg)\n        })\n    },\n\n    /* Check if there are differences we care about betw trees*/\n    treesAreEqual(tree1, tree2) {\n      const type1 = tree1.type ? tree1.type.trim() : \"\"\n      const type2 = tree2.type ? tree2.type.trim() : \"\"\n      const desc1 = tree1.desc ? tree1.desc.trim() : \"\"\n      const desc2 = tree2.desc ? tree2.desc.trim() : \"\"\n      return type1 === type2 && desc1 === desc2 && tree1.file === tree2.file\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ViewTreeDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ViewTreeDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewTreeDialog.vue?vue&type=template&id=4dc005db&\"\nimport script from \"./ViewTreeDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewTreeDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-card :loading=\"loading\">\n    <v-snackbar\n      v-model=\"addTreeMarker.visible\"\n      :timeout=\"-1\"\n      style=\"z-index: 4\"\n    >\n      Dra markören till rätt plats.\n      <template #action=\"{ attrs }\">\n        <v-btn text v-bind=\"attrs\" color=\"green\" @click.stop=\"addTree = true\">\n          Fortsätt\n        </v-btn>\n        <v-btn text v-bind=\"attrs\" @click=\"removeAddTreeMarker\"> Avbryt </v-btn>\n      </template>\n    </v-snackbar>\n    <v-snackbar\n      v-model=\"errorMessage.visible\"\n      :color=\"errorMessage.type || 'error'\"\n      :timeout=\"errorMessage.timeout\"\n      :top=\"true\"\n    >\n      {{ errorMessage.msg }}\n      <template #action=\"{ attrs }\">\n        <v-btn text v-bind=\"attrs\" @click=\"errorMessage.visible = false\">\n          Stäng\n        </v-btn>\n      </template>\n    </v-snackbar>\n    <l-map\n      ref=\"theMap\"\n      :center=\"center\"\n      :zoom=\"zoom\"\n      :options=\"mapOptions\"\n      style=\"z-index: 0\"\n      @update:bounds=\"mapUpdated\"\n    >\n      <!-- z-index to avoid shadowing Vuetify elements -->\n\n      <l-control\n        position=\"bottomleft\"\n        class=\"hidden-md-and-up control\"\n        style=\"z-index: 1\"\n      >\n        <v-icon alt=\"Meny\" title=\"Meny\" @click.stop=\"$emit('open-drawer')\">\n          {{ mdiMenu }}\n        </v-icon>\n        <span style=\"padding-left: 1em\" @click.stop=\"$emit('open-drawer')\">\n          Meny\n        </span>\n      </l-control>\n\n      <l-tile-layer\n        :url=\"url\"\n        :options=\"layerOptions\"\n        :attribution=\"attribution\"\n        :z-index=\"0\"\n      />\n      <l-control v-if=\"canGeoLocate\" position=\"topleft\" class=\"control\">\n        <v-icon @click.stop=\"retrieveUserPosition\">\n          {{ mdiCrosshairsGps }}\n        </v-icon>\n      </l-control>\n      <l-marker-cluster :options=\"clusterOptions\">\n        <l-marker\n          v-for=\"marker in filteredMarkers\"\n          :key=\"marker.key\"\n          :lat-lng=\"marker\"\n          :icon=\"marker.icon\"\n          @click=\"$router.push(`/t/${marker.key}`)\"\n        />\n      </l-marker-cluster>\n      <!-- add-a-tree marker -->\n      <l-marker\n        key=\"addTreeMarker\"\n        :visible=\"addTreeMarker.visible\"\n        :lat-lng.sync=\"addTreeMarker.latLng\"\n        :icon=\"addTreeMarker.icon\"\n        :z-index-offset=\"999\"\n        draggable\n        @mouseup=\"addTreeIconMouseUp\"\n      />\n\n      <ViewTreeDialog\n        v-model=\"viewTree\"\n        @change=\"fetchMarkers\"\n        @tree-loaded=\"adjustMapToTree\"\n        @error=\"showErrorMessage\"\n        @info=\"showInfoMessage\"\n      />\n\n      <AddTreeDialog\n        v-model=\"addTree\"\n        :lat-lng=\"addTreeMarker.latLng\"\n        @abort=\"removeAddTreeMarker\"\n        @added=\"\n          removeAddTreeMarker()\n          fetchMarkers()\n        \"\n        @error=\"showErrorMessage\"\n      />\n    </l-map>\n  </v-card>\n</template>\n\n<script>\nimport { latLng, latLngBounds, icon as licon } from \"leaflet\"\nimport { LMap, LTileLayer, LMarker, LControl } from \"vue2-leaflet\"\nimport Vue2LeafletMarkercluster from \"vue2-leaflet-markercluster\"\nimport AddTreeDialog from \"./AddTreeDialog.vue\"\nimport ViewTreeDialog from \"./ViewTreeDialog.vue\"\nimport { mdiMenu, mdiCrosshairsGps } from \"@mdi/js\"\n\nconst DEFAULT_MAP_SIZE = 750 // meters across map\nconst MAP_CENTER = [62.3908, 17.3069] // fallback\nconst MINIMUM_TREE_VIEW_ZOOM = 16 // zoom here when viewing a tree\n/* Middleware for fetch calls */\nconst raiseForErrors = response => {\n  if (!response.ok) {\n    throw Error(response.statusText)\n  }\n  return response\n}\n\nexport default {\n  name: \"TheMap\",\n  components: {\n    LMap,\n    LTileLayer,\n    LMarker,\n    LControl,\n    LMarkerCluster: Vue2LeafletMarkercluster,\n    AddTreeDialog,\n    ViewTreeDialog,\n  },\n\n  props: {\n    treeFilters: {\n      type: Object,\n      default: function () {\n        return {\n          type: \"*\",\n        }\n      },\n    },\n  },\n  data() {\n    return {\n      loading: true,\n      zoom: 8,\n      url: \"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png\",\n      attribution:\n        \"kartdata <a href='https://www.openstreetmap.org/copyright' target='_blank'>OpenStreetMap</a>\" +\n        \" grafik <a href='https://carto.com/attribution/' target='_blank'>CARTO</a>\",\n      layerOptions: {\n        maxZoom: 19,\n        subdomains: \"abcd\",\n      },\n      mapOptions: {\n        minZoom: 3,\n        zoomSnap: 0.5,\n        noWrap: true,\n        maxBounds: latLngBounds(latLng(-90, -180), latLng(90, 180)),\n      },\n      clusterOptions: {\n        disableClusteringAtZoom: 14,\n        spiderfyOnMaxZoom: false,\n      },\n\n      markers: [],\n      //filteredMarkers: [],\n      icons: {},\n      mdiMenu,\n      mdiCrosshairsGps,\n\n      canGeoLocate: true,\n\n      addTreeMarker: {\n        latLng: latLng(MAP_CENTER[0], MAP_CENTER[1]),\n        visible: false,\n      },\n      addTree: false,\n      viewTree: null,\n\n      errorMessage: {\n        msg: \"\",\n        visible: false,\n        timeout: 6000,\n        type: \"error\",\n      },\n    }\n  },\n\n  computed: {\n    /**\n     * Map center, befor geolocation\n     */\n    center() {\n      if (localStorage && localStorage.mapCenter) {\n        const center = localStorage.mapCenter.split(\",\")\n        return latLng(center[0], center[1])\n      } else {\n        return latLng(MAP_CENTER[0], MAP_CENTER[1])\n      }\n    },\n\n    filteredMarkers() {\n      let fm = this.markers\n      if (this.treeFilters.type !== \"*\") {\n        fm = fm.filter(m => m.group.startsWith(this.treeFilters.type))\n      }\n      return fm\n    },\n  },\n\n  watch: {\n    $route: function (r) {\n      if (\"tree\" in r.params) {\n        this.viewTree = r.params.tree\n      } else {\n        this.viewTree = null\n      }\n    },\n    viewTree: function (state) {\n      // HACK\n      // Checking if the dialog was closed, but the route didn't change\n      // This is most likely not the way to do it...\n      if (!state && \"tree\" in this.$route.params) {\n        this.$router.push(\"/\")\n      }\n    },\n  },\n\n  created: function () {\n    function icon(filename) {\n      return licon({\n        iconSize: [42, 36],\n        iconAnchor: [21, 34],\n        iconUrl: require(`./icons/${filename}.svg`),\n        // Shadow is included in icon svg, but for some reason Leaflet\n        // insists on loading a specific shadow when adding a tree.\n        shadowUrl: filename === \"addnew\" ? require(\"./icons/addnew.svg\") : null,\n        shadowSize: [0, 0],\n      })\n    }\n    this.icons = Object.entries(require(\"../assets/group-data.json\"))\n      .map(([k, v]) => [k, icon(v.icon)])\n      .reduce((o, [k, v]) => {\n        o[k] = v\n        return o\n      }, {})\n\n    this.canGeoLocate = navigator.geolocation ? true : false\n  },\n\n  mounted: function () {\n    const map = this.$refs.theMap.mapObject\n    map.attributionControl.setPrefix(\"\")\n\n    if (\"tree\" in this.$route.params) {\n      // Routed to a tree\n      this.viewTree = this.$route.params.tree\n    } else {\n      this.retrieveUserPosition()\n    }\n  },\n\n  methods: {\n    /**\n     * Display an error message\n     *\n     * @param {string} msg Message to display\n     */\n    showErrorMessage: function (msg) {\n      // Close any existing error message first\n      this.errorMessage.visible = false\n      this.errorMessage.msg = msg\n      this.errorMessage.type = \"error\"\n      this.errorMessage.visible = true\n    },\n\n    showInfoMessage: function (msg) {\n      // Close any existing error message first\n      this.errorMessage.visible = false\n      this.errorMessage.msg = msg\n      this.errorMessage.type = \"info\"\n      this.errorMessage.visible = true\n    },\n\n    /**\n     * Use geolocation interface to re-center map, if possible.\n     *\n     * This method will also cause trees to be fetched and updated.\n     *\n     * @param {Boolean} manually Did the user manually ask for the position?\n     */\n    retrieveUserPosition: function (manually) {\n      const map = this.$refs.theMap.mapObject\n\n      const getUserPosition = new Promise((resolve, reject) => {\n        /* Promise to return user position */\n        if (this.canGeoLocate) {\n          navigator.geolocation.getCurrentPosition(resolve, reject)\n        } else {\n          reject()\n        }\n      })\n\n      getUserPosition\n        .then(pos => {\n          const ll = latLng(pos.coords.latitude, pos.coords.longitude)\n          const bounds = ll.toBounds(\n            pos.coords.accuracy\n              ? Math.max(pos.coords.accuracy, DEFAULT_MAP_SIZE)\n              : DEFAULT_MAP_SIZE\n          )\n          // Only adjust bounds if it would mean zooming in.\n          // Zooming out on geolocating is disruptive\n          const mapBounds = map.getBounds()\n          const oldWidth = mapBounds.getEast() - mapBounds.getWest()\n          const newWidth = bounds.getEast() - bounds.getWest()\n          if (newWidth < oldWidth) {\n            map.fitBounds(bounds)\n          } else {\n            map.panTo(ll)\n          }\n          // fetchMarkers() will be triggered by the map update,\n          // so no need to call it here\n        })\n        .catch(e => {\n          let msg\n          if (typeof e === \"undefined\") {\n            // Interface not available.\n            msg = \"Din webbläsare har inte stöd för att hämta position\"\n            this.canGeoLocate = false\n          } else if (e.code == e.PERMISSION_DENIED) {\n            // Interface is available, but has been blocked.\n            msg =\n              \"Dina webbläsarinställningar låter oss inte hämta din position.\"\n          } else if (e.code == e.POSITION_UNAVAILABLE) {\n            // Interface is available, but position is not.\n            msg = \"Vi kunde inte hämta din position just nu.\"\n          } else {\n            msg = `Vi kunde inte hämta din position: ${e.message}`\n          }\n\n          if (manually) {\n            // Only show error message if user actively tried to geolocate\n            this.showErrorMessage(msg)\n          }\n          // keep default bounds\n          this.fetchMarkers()\n        })\n    },\n\n    /**\n     * Make sure a specific tree is visible on the map.\n     *\n     * After opening a tree dialog, we want to make sure the tree is visible.\n     *\n     * @param {Object} tree A tree object\n     */\n    adjustMapToTree: function (tree) {\n      const map = this.$refs.theMap.mapObject\n      const ll = latLng(tree.lat, tree.lon)\n      const zoom = Math.max(map.getZoom(), MINIMUM_TREE_VIEW_ZOOM)\n      map.setView(ll, zoom)\n    },\n\n    /**\n     * Set the opacity of all markers.\n     *\n     * @param {number} opacity\n     */\n    setMarkerOpacity: function (opacity) {\n      const map = this.$refs.theMap.mapObject\n      map.eachLayer(l => {\n        if (l.options?.pane === \"markerPane\") {\n          l.setOpacity(opacity)\n        }\n      })\n    },\n\n    /**\n     * Let the user add a new tree by moving a marker.\n     *\n     * This method is called by ref from outside the Map component\n     */\n    addNewTree: function () {\n      const map = this.$refs.theMap.mapObject\n      // Close drawer in case we're on mobile\n      this.$emit(\"close-drawer\")\n      this.setMarkerOpacity(0.4)\n      this.addTreeMarker = {\n        visible: true,\n        latLng: map.getCenter(),\n        icon: this.icons.addnew,\n      }\n    },\n\n    /* Clicking (not dragging) the add tree icon will open the add tree dialogue */\n    addTreeIconMouseUp: function (x) {\n      if (x.latlng == this.addTreeMarker.latLng) {\n        this.addTree = true\n      }\n    },\n\n    removeAddTreeMarker: function () {\n      this.addTreeMarker.visible = false\n      this.setMarkerOpacity(1)\n    },\n\n    mapUpdated: function () {\n      this.fetchMarkers()\n      if (localStorage) {\n        const center = this.$refs.theMap.mapObject.getCenter()\n        localStorage.mapCenter = [center.lat, center.lng]\n      }\n    },\n\n    fetchMarkers: function () {\n      this.loading = true\n      let self = this\n      let bounds = this.$refs.theMap.mapObject.getBounds()\n      fetch(\n        // eslint-disable-next-line max-len\n        `${process.env.VUE_APP_APIBASE}/trees?bbox=${bounds._southWest.lat},${bounds._southWest.lng},${bounds._northEast.lat},${bounds._northEast.lng}`\n      )\n        .then(raiseForErrors)\n        .then(response => response.json())\n        .then(json => {\n          self.markers = json.map(m => ({\n            ...m,\n            icon: self.icons[m.group] ?? self.icons.tree,\n          }))\n        })\n        .catch(e => {\n          this.showErrorMessage(\n            `Vi lyckades inte hämta några träd just nu: ${e}`\n          )\n        })\n        .finally(() => {\n          this.loading = false\n        })\n    },\n  },\n}\n</script>\n\n<style>\n@import \"~leaflet.markercluster/dist/MarkerCluster.css\";\n@import \"~leaflet.markercluster/dist/MarkerCluster.Default.css\";\n\n.marker-cluster-small,\n.marker-cluster-medium,\n.marker-cluster-large,\n.marker-cluster-small div,\n.marker-cluster-medium div,\n.marker-cluster-large div {\n  background-color: rgba(230, 180, 43, 0.4) !important;\n}\n\n@media (min-width: 600px) {\n  .leaflet-right .leaflet-control-attribution {\n    /* Collapsed sidebar is 56px */\n    margin-right: 56px !important;\n  }\n}\n\n.control {\n  background: #f0f0f099;\n  padding: 0.5em 1em;\n  border-radius: 0.5em;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=687ad031&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=687ad031&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"max-width\":\"500\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.close.apply(null, arguments)}},model:{value:(_vm.displayDialog),callback:function ($$v) {_vm.displayDialog=$$v},expression:\"displayDialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Om Fruktkartan\")]),_c('v-card-text',[_c('p',[_vm._v(\" Fruktkartan är en öppen databas med fruktträd på allmänningar och i parker. Vem som helst kan lägga till nya träd, och redigera eller ta bort sådana som inte passar här. Sajten är byggd av Leo Wallentin, Matti Ryhänen och Daniel Lublin. Fruktikoner av Pedro Loureiro. \")]),_c('p',[_vm._v(\" Andra sajter och appar kan använda information härifrån, via ett öppet API. Informationen är licensierad med \"),_c('a',{attrs:{\"href\":\"https://opendatacommons.org/licenses/odbl/summary/\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Open Database License\")]),_vm._v(\", bilder med \"),_c('a',{attrs:{\"href\":\"https://creativecommons.org/publicdomain/zero/1.0/deed.sv\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"CC0\")]),_vm._v(\". \")]),_c('p',[_vm._v(\" Fruktkartan är byggd med Vue/Vuetify samt Leaflet med Open Street Maps kartor. Källkoden är fri, \"),_c('em',[_vm._v(\"copyleft\")]),_vm._v(\" och licensierad med \"),_c('a',{attrs:{\"href\":\"https://www.gnu.org/licenses/agpl-3.0.html\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"AGPLv3\")]),_vm._v(\". \")]),_c('p',[_vm._v(\" Har du hittat en bugg? Rapportera det \"),_c('a',{attrs:{\"href\":\"https://github.com/fruktkartan/fruktkartan/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"på Github!\")]),_c('br'),_vm._v(\" Frågor? Skicka ett \"),_c('a',{attrs:{\"href\":\"mailto:mejl@leowallentin.se\"}},[_vm._v(\"mejl\")]),_vm._v(\"! \")]),_c('small',[_vm._v(\" Byggd \"+_vm._s(_vm.timestamp)+\" från \"),_c('a',{attrs:{\"href\":_vm.gitcommit,\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(_vm._s(_vm.githash))]),_vm._v(\". \")])]),_c('v-card-actions',[_c('v-btn',{on:{\"click\":function($event){$event.stopPropagation();return _vm.close.apply(null, arguments)}}},[_vm._v(\" Stäng \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"displayDialog\" max-width=\"500\" @keydown.esc=\"close\">\n    <v-card>\n      <v-card-title>Om Fruktkartan</v-card-title>\n      <v-card-text>\n        <p>\n          Fruktkartan är en öppen databas med fruktträd på allmänningar och i\n          parker. Vem som helst kan lägga till nya träd, och redigera eller ta\n          bort sådana som inte passar här. Sajten är byggd av Leo Wallentin,\n          Matti Ryhänen och Daniel Lublin. Fruktikoner av Pedro Loureiro.\n        </p>\n\n        <p>\n          Andra sajter och appar kan använda information härifrån, via ett öppet\n          API. Informationen är licensierad med\n          <a\n            href=\"https://opendatacommons.org/licenses/odbl/summary/\"\n            target=\"_blank\"\n            rel=\"noopener\"\n            >Open Database License</a\n          >, bilder med\n          <a\n            href=\"https://creativecommons.org/publicdomain/zero/1.0/deed.sv\"\n            target=\"_blank\"\n            rel=\"noopener\"\n            >CC0</a\n          >.\n        </p>\n        <p>\n          Fruktkartan är byggd med Vue/Vuetify samt Leaflet med Open Street Maps\n          kartor. Källkoden är fri, <em>copyleft</em> och licensierad med\n          <a\n            href=\"https://www.gnu.org/licenses/agpl-3.0.html\"\n            target=\"_blank\"\n            rel=\"noopener\"\n            >AGPLv3</a\n          >.\n        </p>\n        <p>\n          Har du hittat en bugg? Rapportera det\n          <a\n            href=\"https://github.com/fruktkartan/fruktkartan/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc\"\n            target=\"_blank\"\n            rel=\"noopener\"\n            >på Github!</a\n          ><br />\n          Frågor? Skicka ett\n          <a href=\"mailto:mejl@leowallentin.se\">mejl</a>!\n        </p>\n        <small>\n          Byggd {{ timestamp }} från\n          <a :href=\"gitcommit\" target=\"_blank\" rel=\"noopener\">{{ githash }}</a\n          >.\n        </small>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn @click.stop=\"close\"> Stäng </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"AboutUs\",\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      timestamp: process.env.VUE_APP_TIMESTAMP ?? \"?\",\n      githash: process.env.VUE_APP_GITHASH ?? \"?\",\n    }\n  },\n  computed: {\n    gitcommit: function () {\n      return \"https://github.com/fruktkartan/fruktkartan/commit/\" + this.githash\n    },\n    displayDialog: {\n      get: function () {\n        return this.value ? true : false\n      },\n      set: function (val) {\n        this.$emit(\"input\", val)\n      },\n    },\n  },\n  methods: {\n    close() {\n      this.$emit(\"input\", false)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=08e75ae7&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-list-item',{attrs:{\"to\":_vm.to,\"active\":_vm.active,\"disabled\":_vm.disabled,\"inactive\":_vm.disabled},on:{\"click\":function($event){_vm.disabled || _vm.$emit('on-click')}}},[_c('v-list-item-icon',{on:{\"click\":function($event){_vm.disabled || _vm.$emit('mini-action')}}},[_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [(_vm.iconImg)?_c('v-img',_vm._g({attrs:{\"src\":_vm.iconImg,\"max-width\":\"32\"}},on)):_c('v-icon',_vm._g({attrs:{\"color\":_vm.iconColor}},on),[_vm._v(\" \"+_vm._s(_vm.icon)+\" \")])]}}])},[_c('span',[_vm._v(_vm._s(_vm.tooltip || _vm.$slots.default[0].text))])])],1),_c('v-list-item-content',[_vm._t(\"default\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-list-item\n    :to=\"to\"\n    :active=\"active\"\n    :disabled=\"disabled\"\n    :inactive=\"disabled\"\n    @click=\"disabled || $emit('on-click')\"\n  >\n    <v-list-item-icon @click=\"disabled || $emit('mini-action')\">\n      <v-tooltip left>\n        <template #activator=\"{ on }\">\n          <v-img v-if=\"iconImg\" :src=\"iconImg\" max-width=\"32\" v-on=\"on\" />\n          <v-icon v-else :color=\"iconColor\" v-on=\"on\">\n            {{ icon }}\n          </v-icon>\n        </template>\n        <span>{{ tooltip || $slots.default[0].text }}</span>\n      </v-tooltip>\n    </v-list-item-icon>\n    <v-list-item-content>\n      <slot />\n    </v-list-item-content>\n  </v-list-item>\n</template>\n\n<script>\nexport default {\n  name: \"SidebarItem\",\n  props: {\n    text: {\n      type: String,\n      default: \"\",\n    },\n    to: {\n      type: String,\n      default: \"\",\n    },\n    tooltip: {\n      type: String,\n      default: \"\",\n    },\n    icon: {\n      type: String,\n      default: \"\",\n    },\n    iconImg: {\n      type: String,\n      default: \"\",\n    },\n    active: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    iconColor: function () {\n      if (this.active) {\n        return \"active\"\n      } else if (this.disabled) {\n        return \"disabled\"\n      } else {\n        return \"default\"\n      }\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SidebarItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SidebarItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SidebarItem.vue?vue&type=template&id=8b57f8f0&\"\nimport script from \"./SidebarItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SidebarItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-app id=\"app\">\n    <v-navigation-drawer\n      v-model=\"drawer\"\n      :mobile-breakpoint=\"960\"\n      :width=\"340\"\n      :mini-variant=\"miniVariant\"\n      right\n      bottom\n      absolute\n    >\n      <v-card flat>\n        <h1>\n          <v-card-title class=\"hidden-lg-and-up\">\n            <v-img\n              :src=\"mLogo[1]\"\n              :srcset=\"`${mLogo[1]} 1x,${mLogo[2]} 2x,${mLogo[3]} 3x`\"\n              :max-width=\"280\"\n            />\n          </v-card-title>\n          <v-card-title class=\"hidden-md-and-down\">\n            <v-img\n              v-if=\"!miniVariant\"\n              alt=\"Fruktkartan\"\n              src=\"./assets/img/fruktkartan_a.png\"\n            >\n              <span class=\"beta\" :style=\"{ display: betaDisplay }\">beta</span>\n            </v-img>\n            <v-img v-else alt=\"Fruktkartan\" src=\"./assets/img/f_t.png\" />\n          </v-card-title>\n        </h1>\n      </v-card>\n\n      <v-list>\n        <SidebarItem\n          :icon-img=\"selectedTreeIcon\"\n          :tooltip=\"`Visar ${selectedTreeName.toLowerCase()}`\"\n          @mini-action=\"miniVariant = false\"\n        >\n          <v-select\n            v-model=\"filters.type\"\n            :items=\"selectTreeTypes\"\n            label=\"Välj träd att visa\"\n          />\n        </SidebarItem>\n        <SidebarItem\n          :icon=\"mdiPlus\"\n          :active=\"\n            $refs.map && ($refs.map.addTree || $refs.map.addTreeMarker.visible)\n          \"\n          :disabled=\"\n            $store.state.offline ||\n            ($refs.map && $refs.map.addTreeMarker.visible)\n          \"\n          @on-click=\"$refs.map.addNewTree()\"\n        >\n          Lägg till träd\n        </SidebarItem>\n        <SidebarItem :icon=\"mdiInformation\" :active=\"showFAQ\" to=\"/om\">\n          Om Fruktkartan\n        </SidebarItem>\n      </v-list>\n      <template #append>\n        <v-list class=\"d-none d-lg-block\">\n          <v-list-item @click=\"miniVariant = !miniVariant\">\n            <v-list-item-icon>\n              <v-icon v-if=\"!miniVariant\">\n                {{ mdiClose }}\n              </v-icon>\n              <v-icon v-if=\"miniVariant\" title=\"Visa panelen\">\n                {{ mdiMenuOpen }}\n              </v-icon>\n            </v-list-item-icon>\n            <v-list-item-content>Dölj panelen</v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </template>\n    </v-navigation-drawer>\n\n    <v-main>\n      <TheMap\n        ref=\"map\"\n        class=\"fill-height\"\n        :tree-filters=\"filters\"\n        @open-drawer=\"drawer = true\"\n        @close-drawer=\"drawer = null\"\n      />\n      <AboutUs v-model=\"showFAQ\" />\n      <v-snackbar v-model=\"offlineWarning\" :timeout=\"-1\" color=\"warning\">\n        Vi kunde inte hitta någon internetuppkoppling just nu. Du kommer inte\n        kunna lägga till eller redigera träd förrän du har uppkoppling.\n        <template #action=\"{ attrs }\">\n          <v-btn text v-bind=\"attrs\" @click=\"offlineWarning = false\">\n            Stäng\n          </v-btn>\n        </template>\n      </v-snackbar>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport TheMap from \"./components/Map.vue\"\nimport AboutUs from \"./components/About.vue\"\nimport SidebarItem from \"./components/SidebarItem.vue\"\nimport {\n  mdiClose,\n  mdiMenuOpen,\n  mdiFilter,\n  mdiReload,\n  mdiInformation,\n  mdiPlus,\n} from \"@mdi/js\"\n\nconst DEFAULT_FILTERS = {\n  type: \"*\",\n}\n\nconst mobileLogotype = {\n  // Vue does not support relative imports in srcset\n  // See https://github.com/vuejs-templates/webpack/issues/396\n  1: require(\"./assets/img/fruktkartan_m.png\"),\n  2: require(\"./assets/img/fruktkartan_m2.png\"),\n  3: require(\"./assets/img/fruktkartan_m3.png\"),\n}\n\nexport default {\n  name: \"App\",\n  components: {\n    TheMap,\n    AboutUs,\n    SidebarItem,\n  },\n  data() {\n    return {\n      offlineWarning: this.$store.state.offline,\n\n      showFAQ: false,\n\n      /* v-navigation-drawer */\n      drawer: null, // null means closed on mobile, open on desktop\n      miniVariant: false,\n      betaDisplay: \"none\",\n\n      /* tree filters */\n      selectTreeTypes: require(\"./assets/selectTrees.json\"),\n      filters: { ...DEFAULT_FILTERS },\n\n      /* SVG icons */\n      mdiClose,\n      mdiMenuOpen,\n      mdiFilter,\n      mdiReload,\n      mdiInformation,\n      mdiPlus,\n    }\n  },\n  computed: {\n    console: () => console, // For debugging\n    selectedTreeIcon() {\n      let tree = this.filters.type === \"*\" ? \"tree\" : this.filters.type\n      return require(`./components/icons/${tree}.svg`)\n    },\n    selectedTreeName() {\n      let treeKey = this.filters.type\n      if (treeKey === \"*\") {\n        return \"alla träd\"\n      } else {\n        return this.selectTreeTypes.filter(x => x.value === treeKey)[0].text\n      }\n    },\n    mLogo() {\n      return mobileLogotype\n    },\n  },\n  watch: {\n    $route: function (r) {\n      // Check for special routes\n      this.showFAQ = r.path === \"/om\"\n      if (\"goatcounter\" in window) {\n        // send a page view to goatcounter\n        // window.goatcounter.allow_local = true\n        window.goatcounter.count({\n          path: () => r.path,\n          event: true,\n        })\n      }\n    },\n    showFAQ: function (state) {\n      // HACK\n      // Checking if the dialog was closed, but the route didn't change\n      // This is most likely not the way to do it...\n      if (!state && this.$route.path === \"/om\") {\n        this.$router.push(\"/\")\n      }\n    },\n  },\n  mounted() {\n    // There might be a vue plugin for this, but on the other hand quite straightforward\n    window.addEventListener(\"online\", this.updateOnlineStatus)\n    window.addEventListener(\"offline\", this.updateOnlineStatus)\n  },\n  created: function () {\n    if (window.location.hostname != \"fruktkartan.se\") {\n      this.betaDisplay = \"block\"\n    }\n    if (this.$route.path === \"/om\") {\n      this.showFAQ = true\n    }\n\n    /* Hack around unintended effects of using 100vh in some mobile browser, see\n    https://stackoverflow.com/questions/37112218/css3-100vh-not-constant-in-mobile-browser\n    */\n    function appHeight() {\n      const doc = document.documentElement\n      doc.style.setProperty(\"--vh\", window.innerHeight * 0.01 + \"px\")\n    }\n    window.addEventListener(\"resize\", appHeight)\n    appHeight()\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"online\", this.updateOnlineStatus)\n    window.removeEventListener(\"offline\", this.updateOnlineStatus)\n  },\n  methods: {\n    updateOnlineStatus({ type }) {\n      if (type === \"offline\") {\n        this.$store.commit(\"offline\", true)\n        this.offlineWarning = true\n      } else {\n        this.$store.commit(\"offline\", false)\n        this.offlineWarning = false\n      }\n    },\n    reset() {\n      this.filters = { ...DEFAULT_FILTERS }\n    },\n  },\n}\n</script>\n\n<style>\n@import \"../node_modules/leaflet/dist/leaflet.css\";\n\n/* Hack around unintended effects of using 100vh in some mobile browser, see\nhttps://stackoverflow.com/questions/37112218/css3-100vh-not-constant-in-mobile-browser\n*/\n.v-application {\n  height: 100vh;\n  height: -webkit-fill-available;\n  height: calc(var(--vh, 1vh) * 100);\n  min-height: calc(var(--vh, 1vh) * 100);\n  max-height: calc(var(--vh, 1vh) * 100);\n}\n.v-application--wrap {\n  height: inherit !important;\n  max-height: inherit !important;\n  min-height: inherit !important;\n}\n\nhtml,\nbody {\n  height: 100vh;\n  height: -webkit-fill-available;\n}\n\nhtml {\n  overflow: hidden !important;\n}\n\n.beta {\n  display: none;\n  float: right;\n  padding: 0.25em;\n  color: black;\n  background-color: rgba(112, 206, 155, 0.85);\n  border-radius: 50%;\n}\n\n/* Override uppercasing of text buttons (but not the flat) */\n.v-btn--contained {\n  text-transform: none !important;\n}\n\n/* Less whitespace on mobile */\n.v-navigation-drawer--is-mobile {\n  height: auto !important;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0081ca3d&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=0081ca3d&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\"\nimport Vuetify from \"vuetify/lib\"\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n  icons: {\n    iconfont: \"mdiSvg\",\n  },\n  theme: {\n    options: {\n      variations: false,\n    },\n  },\n})\n","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\"\n\nif (\"serviceWorker\" in navigator && process.env.NODE_ENV === \"production\") {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      // console.log(\"App is being served from cache by a service worker.\")\n    },\n    registered() {\n      // console.log(\"Service worker has been registered.\")\n    },\n    cached() {\n      // console.log(\"Content has been cached for offline use.\")\n    },\n    updatefound() {\n      // console.log(\"New content is downloading.\")\n    },\n    updated() {\n      // console.log(\"New content is available; please refresh.\")\n    },\n    offline() {\n      // console.log(\"No internet connection found. App is running in offline mode.\")\n    },\n    error() {\n      // console.error(\"Error during service worker registration:\", error)\n    },\n  })\n}\n","// polyfill fetch() for IE (and more?)\nimport \"whatwg-fetch\"\n\nimport Vue from \"vue\"\nimport App from \"./App.vue\"\nimport vuetify from \"./plugins/vuetify\"\nimport VueRouter from \"vue-router\"\nimport Vuex from \"vuex\"\nimport \"./registerServiceWorker\"\n\nVue.config.productionTip = false\nVue.use(Vuex)\nconst store = new Vuex.Store({\n  state: {\n    offline: navigator && !navigator.onLine,\n  },\n  mutations: {\n    offline(state, status) {\n      state.offline = status\n    },\n  },\n})\n\nVue.use(VueRouter)\nconst router = new VueRouter({\n  routes: [\n    {\n      path: \"/om\",\n    },\n    {\n      path: \"/t/:tree\",\n      props: true,\n    },\n  ],\n})\n\nnew Vue({\n  vuetify,\n  router,\n  store,\n  render: h => h(App),\n}).$mount(\"#app\")\n","var map = {\n\t\"./addnew.svg\": 2351,\n\t\"./berry-blackberry.svg\": 5844,\n\t\"./berry-blackcurrant.svg\": 2717,\n\t\"./berry-chokeberry.svg\": 9339,\n\t\"./berry-currant.svg\": 7410,\n\t\"./berry-elder.svg\": 4072,\n\t\"./berry-goji.svg\": 6601,\n\t\"./berry-mullberry.svg\": 4120,\n\t\"./berry-raspberry.svg\": 4147,\n\t\"./berry-rosehip.svg\": 4956,\n\t\"./berry-rowanberry.svg\": 2202,\n\t\"./berry-seabuckthorn.svg\": 8132,\n\t\"./berry-sloeberry.svg\": 2684,\n\t\"./berry-wildstrawberry.svg\": 4641,\n\t\"./berry.svg\": 2214,\n\t\"./herb-chamomille.svg\": 6399,\n\t\"./herb-chervil.svg\": 3986,\n\t\"./herb-nettle.svg\": 9097,\n\t\"./herb-wildgarlic.svg\": 5687,\n\t\"./herb.svg\": 4203,\n\t\"./nut-hazelnut.svg\": 5671,\n\t\"./nut-sweetchestnut.svg\": 3863,\n\t\"./nut-walnut.svg\": 4079,\n\t\"./nut.svg\": 735,\n\t\"./tree-apple.svg\": 5054,\n\t\"./tree-cherry.svg\": 5856,\n\t\"./tree-pear.svg\": 8017,\n\t\"./tree-plum.svg\": 7186,\n\t\"./tree-quince.svg\": 2504,\n\t\"./tree-rhubarb.svg\": 14,\n\t\"./tree.svg\": 6964\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1541;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfruktkartan\"] = self[\"webpackChunkfruktkartan\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9058); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["scopedSlots","staticClass","miniVariant","_v","_vm","proxy","callback","drawer","$$v","expression","_c","attrs","require","style","display","on","model","filters","mdiInformation","ref","value","fn","offlineWarning","staticRenderFns","render","staticStyle","addTree","removeAddTreeMarker","key","click","errorMessage","$event","mdiMenu","stopPropagation","$emit","url","canGeoLocate","mdiCrosshairsGps","clusterOptions","marker","icon","addTreeMarker","updateLatLng","addTreeIconMouseUp","showInfoMessage","viewTree","showErrorMessage","displayDialog","step","tree","valid","_objectSpread","latLng","_e","tree_","file","v","trim","alt","width","startPolling","err","S3_BASE","process","WIDTH","name","props","image","type","String","default","data","placeholder","timer","timerTicks","computed","img","concat","img_srcset","_this","map","x","join","watch","stopPolling","beforeDestroy","methods","clearInterval","_this2","setInterval","component","negative","confirm","nativeOn","apply","confirmed","positive","arguments","dialog","resolve","reject","message","defaultOptions","positiveText","positiveColor","options","get","set","toLowerCase","replace","open","Object","assign","Promise","components","TreeImage","ConfirmDialog","prop","predefinedTrees","uploading","uploadingProgress","uploadOk","mdiDeleteOutline","insertableTrees","treeList","Array","from","push","previewSource","URL","createObjectURL","val1","val2","deleteImage","$refs","then","fileChanged","fetch","method","body","JSON","stringify","headers","response","json","renamedFile","File","filename","request","XMLHttpRequest","signedRequest","upload","addEventListener","e","loaded","total","onreadystatechange","readyState","status","console","log","send","catch","preview","_s","mdiMapMarker","dayjs","loading","Boolean","date","Date","added","geoPos","lat","lon","toFixed","geoURI","prettyDate","d","format","TreeEditor","TreeViewer","lng","treePayload","desc","msg","state","offline","newTree","deleteReason","raiseOnHttpError","error","Error","statusText","treeCache","working","fetchTree","created","close","flagForDeletion","finally","getData","towardsPreview","_this3","submitTree","_this4","treesAreEqual","tree1","tree2","type1","type2","desc1","desc2","DEFAULT_MAP_SIZE","MAP_CENTER","MINIMUM_TREE_VIEW_ZOOM","raiseForErrors","ok","LMap","LTileLayer","LMarker","LControl","LMarkerCluster","Vue2LeafletMarkercluster","AddTreeDialog","ViewTreeDialog","treeFilters","zoom","attribution","layerOptions","maxZoom","subdomains","mapOptions","minZoom","zoomSnap","noWrap","maxBounds","latLngBounds","disableClusteringAtZoom","spiderfyOnMaxZoom","markers","icons","visible","timeout","center","localStorage","mapCenter","split","filteredMarkers","fm","filter","m","group","startsWith","$route","r","params","$router","licon","iconSize","iconAnchor","iconUrl","shadowUrl","shadowSize","entries","_ref","_ref2","_slicedToArray","k","reduce","o","_ref3","_ref4","navigator","geolocation","mounted","theMap","mapObject","attributionControl","setPrefix","retrieveUserPosition","manually","getUserPosition","getCurrentPosition","pos","ll","coords","latitude","longitude","bounds","toBounds","accuracy","Math","max","mapBounds","getBounds","oldWidth","getEast","getWest","newWidth","fitBounds","panTo","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","fetchMarkers","adjustMapToTree","getZoom","setView","setMarkerOpacity","opacity","eachLayer","l","_l$options","pane","setOpacity","addNewTree","getCenter","addnew","latlng","mapUpdated","self","_southWest","_northEast","_self$icons$m$group","_process$env$VUE_APP_","_process$env$VUE_APP_2","timestamp","githash","gitcommit","val","disabled","iconColor","text","to","tooltip","iconImg","active","DEFAULT_FILTERS","mobileLogotype","TheMap","AboutUs","SidebarItem","$store","showFAQ","betaDisplay","selectTreeTypes","mdiClose","mdiMenuOpen","mdiFilter","mdiReload","mdiPlus","_console","toString","selectedTreeIcon","selectedTreeName","treeKey","mLogo","path","window","goatcounter","count","event","updateOnlineStatus","appHeight","doc","document","documentElement","setProperty","innerHeight","location","hostname","removeEventListener","commit","reset","Vue","use","Vuetify","iconfont","theme","variations","register","ready","registered","cached","updatefound","updated","config","productionTip","Vuex","store","onLine","mutations","VueRouter","router","routes","vuetify","h","App","$mount","webpackContext","req","id","webpackContextResolve","__webpack_require__","keys","module","exports","__webpack_module_cache__","moduleId","cachedModule","undefined","__webpack_modules__","call","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","i","length","fulfilled","j","every","splice","n","getter","__esModule","a","definition","defineProperty","enumerable","g","globalThis","this","Function","obj","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","forEach","bind","__webpack_exports__"],"sourceRoot":""}